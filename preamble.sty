\ProvidesPackage{preamble}

% Корректность отображения всех шрифтов, кодировок и мат. символов
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}
\usepackage{amssymb, amsmath, amsthm, mathtools}

\usepackage{lipsum}
% \usepackage{showframe}

% Уравнивание длин колонок на последней странице
% \usepackage{flushend}

% Отображение содержания
\usepackage{tocloft}
\addto\captionsrussian{\renewcommand*\contentsname{\sffamily Экзаменационные вопросы}}
\renewcommand\cftsecfont{\mdseries\sffamily}
\renewcommand\cftsecpagefont{\mdseries\sffamily}

% Настройки шрифта
\usepackage{fontspec}
\setmainfont{CMU Serif}
\setsansfont{CMU Sans Serif}
\setmonofont{CMU Typewriter Text}

% Отступ у первого абзаца
\usepackage{indentfirst}

% Вставка картинок
\usepackage{graphicx}
\graphicspath{img/}

% Всё, что нужно для tikz
\usepackage{tikz}
\usetikzlibrary{shapes, decorations, calc, arrows, angles}
\usetikzlibrary{3d, fit, backgrounds, decorations.text}
\usetikzlibrary{positioning, shapes.symbols}
\usetikzlibrary{decorations.pathreplacing, calligraphy}
\tikzset{>=latex}

% Римские числа из обычных
\newcommand{\rnum}[1]{\uppercase\expandafter{\romannumeral #1\relax}}

% Часто используемые обозначения
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\renewcommand{\C}{\mathbb{C}}
\newcommand{\rk}{\mathrm{rk}\,}
\newcommand{\tr}{\mathrm{tr}\,}
\newcommand{\sgn}{\mathrm{sgn}\,}
\newcommand*{\bord}{\multicolumn{1}{c|}{}}
\newcommand{\bigzero}{\makebox(0, 0){\Huge 0}}
\newcommand{\bigast}{\makebox(0, 0){\Huge \ast}}

% Отступы между абзацами
\setlength{\parskip}{1ex}

% Отступы
\usepackage[left=18mm, right=18mm, top=20mm, bottom=16mm, includefoot]{geometry}

% Объединения строк и столбцов в таблицах
\usepackage{multirow}

% Для работы со списками
\usepackage{enumitem}

% Для работы с секциями
\usepackage{sectsty}
\allsectionsfont{\sffamily}

% Оболочка для теоремы
\newcounter{theorem}[section]
\newenvironment{theorem}[1][]{\par\smallskip
\refstepcounter{theorem}
    \ifx&#1&
        \smallskip\noindent{\bfseries\sffamily Теорема \thesection.\thetheorem.}
    \else
        \smallskip\noindent{\bfseries\sffamily Теорема \thesection.\thetheorem\;(#1).}
    \fi
    }{
    \par\smallskip
}

% Оболочка для доказательства
\renewenvironment{proof}{\smallskip
    %\setlength{\parindent}{17pt}
    %\setlength{\parskip}{1ex}
    \noindent{\bfseries\sffamily Доказательство.}
}{
    \hfill$\blacksquare$\par\smallskip
}

% Оболочки для леммы, предложения и утверждения
\newcounter{lemma}[section]
\newenvironment{lemma}[1][]{\par\smallskip
\refstepcounter{lemma}
    \ifx&#1&
        \smallskip\noindent{\bfseries\sffamily Лемма \thesection.\thelemma.}
    \else
        \smallskip\noindent{\bfseries\sffamily Лемма \thesection.\thelemma\;(#1).}
    \fi
    }{
    \par\smallskip
}

\newenvironment{proposal}[1][]{\par\smallskip
    \ifx&#1&
        \smallskip\noindent{\bfseries\sffamily Предложение.}
    \else
        \smallskip\noindent{\bfseries\sffamily Предложение \;(#1).}
    \fi
    }{
    \par\smallskip
}

\newenvironment{statement}[1][]{\par\smallskip
    \ifx&#1&
        \smallskip\noindent{\bfseries\sffamily Утверждение.}
    \else
        \smallskip\noindent{\bfseries\sffamily Утверждение \;(#1).}
    \fi
    }{
    \par\smallskip
}

% Оболочка для определения
\newcounter{definition}[section]
\newenvironment{definition}[1][]{\par\smallskip
\refstepcounter{definition}
    \ifx&#1&
        \smallskip\noindent{\bfseries\sffamily Определение \thesection.\thedefinition.}
    \else
        \smallskip\noindent{\bfseries\sffamily Определение \thesection.\thedefinition\;(#1).}
    \fi
    }{
    \par\smallskip
}

% Оболочки для задач
\newenvironment{remark}[1][]{\par\smallskip
    \ifx&#1&
        \smallskip\noindent{\bfseries\sffamily Примечание.}
    \else
        \smallskip\noindent{\bfseries\sffamily Примечание\;(#1).}
    \fi
    }{
    \par\smallskip
}

\newcounter{problem}
\newenvironment{problem}[1][]{\par\smallskip
\refstepcounter{problem}
    \ifx&#1&
        \noindent{\bfseries\sffamily Задача \theproblem.}
    \else
        \noindent{\bfseries\sffamily Задача \theproblem.{\mdseries(#1)}.}
    \fi
    }{
\par\smallskip
}


